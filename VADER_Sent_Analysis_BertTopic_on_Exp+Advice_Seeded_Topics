{
  "cells": [
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "view-in-github",
        "colab_type": "text"
      },
      "source": [
        "<a href=\"https://colab.research.google.com/github/Joongeun/Internship/blob/main/VADER_Sent_Analysis_BertTopic_on_Exp%2BAdvice_Seeded_Topics\" target=\"_parent\"><img src=\"https://colab.research.google.com/assets/colab-badge.svg\" alt=\"Open In Colab\"/></a>"
      ]
    },
    {
      "cell_type": "markdown",
      "source": [
        "# Fit on all posts, then transformed (predicted) on 3 categories (1-7 upvotes, 8 and above upvotes, top 10% upvotes)\n",
        "also used \"reduce_outliers()\" function and \"seed_topic_list\" parameter for BERTopic\n"
      ],
      "metadata": {
        "id": "T4N4aBt6i-48"
      }
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {
        "id": "WAWySj3AkuIC"
      },
      "outputs": [],
      "source": [
        "import numpy as np\n",
        "import pandas as pd\n",
        "import json"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {
        "id": "tXmJtS2Aqirk"
      },
      "outputs": [],
      "source": [
        "exp_posts = pd.read_csv('/content/experience_posts.csv')"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "szdZplFUOGRE",
        "outputId": "5f675afa-3fe9-4350-b677-a2d20aaf5428"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "35 1786 1513 864 351\n"
          ]
        }
      ],
      "source": [
        "scores = list(exp_posts['score'])\n",
        "# for ind, i in enumerate(sorted(scores)):\n",
        "#   if ind == 348:\n",
        "#     low = i\n",
        "#   if ind == 696:\n",
        "#     mid = i\n",
        "#   if ind == 1044:\n",
        "#     high = i\n",
        "\n",
        "texts = [[], [], [], [], []]\n",
        "for ind, score in enumerate(exp_posts['score']):\n",
        "  if score == 0:\n",
        "    texts[0].append(exp_posts['selftext'][ind])\n",
        "  elif score > 0 and score <=7:\n",
        "    texts[1].append(exp_posts['selftext'][ind])\n",
        "  # else:\n",
        "  #   texts[2].append(exp_posts['selftext'][ind]) # 8 or above\n",
        "  if score >= 8:\n",
        "    texts[2].append(exp_posts['selftext'][ind])\n",
        "  if score >= 13:\n",
        "    texts[3].append(exp_posts['selftext'][ind])\n",
        "  if score >= 22:\n",
        "    texts[4].append(exp_posts['selftext'][ind])\n",
        "\n",
        "print(len(texts[0]), len(texts[1]), len(texts[2]), len(texts[3]), len(texts[4]))\n",
        "\n",
        "low = {\"text\": texts[0]}\n",
        "low_mid = {\"text\": texts[1]}\n",
        "high_mid = {\"text\": texts[2]}\n",
        "high = {\"text\": texts[3]}\n",
        "top_10 = {\"text\":texts[4]}\n",
        "low_df = pd.DataFrame(low)\n",
        "low_mid_df = pd.DataFrame(low_mid)\n",
        "high_mid_df = pd.DataFrame(high_mid)\n",
        "high_df = pd.DataFrame(high)\n",
        "top_10_df = pd.DataFrame(top_10)"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "XFvabvl5cg9O",
        "outputId": "37f33d2e-78d9-4635-fe5c-2dfadf4d586b"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Requirement already satisfied: bertopic in /usr/local/lib/python3.10/dist-packages (0.15.0)\n",
            "Requirement already satisfied: numpy>=1.20.0 in /usr/local/lib/python3.10/dist-packages (from bertopic) (1.23.5)\n",
            "Requirement already satisfied: hdbscan>=0.8.29 in /usr/local/lib/python3.10/dist-packages (from bertopic) (0.8.33)\n",
            "Requirement already satisfied: umap-learn>=0.5.0 in /usr/local/lib/python3.10/dist-packages (from bertopic) (0.5.3)\n",
            "Requirement already satisfied: pandas>=1.1.5 in /usr/local/lib/python3.10/dist-packages (from bertopic) (1.5.3)\n",
            "Requirement already satisfied: scikit-learn>=0.22.2.post1 in /usr/local/lib/python3.10/dist-packages (from bertopic) (1.2.2)\n",
            "Requirement already satisfied: tqdm>=4.41.1 in /usr/local/lib/python3.10/dist-packages (from bertopic) (4.66.1)\n",
            "Requirement already satisfied: sentence-transformers>=0.4.1 in /usr/local/lib/python3.10/dist-packages (from bertopic) (2.2.2)\n",
            "Requirement already satisfied: plotly>=4.7.0 in /usr/local/lib/python3.10/dist-packages (from bertopic) (5.15.0)\n",
            "Requirement already satisfied: cython<3,>=0.27 in /usr/local/lib/python3.10/dist-packages (from hdbscan>=0.8.29->bertopic) (0.29.36)\n",
            "Requirement already satisfied: scipy>=1.0 in /usr/local/lib/python3.10/dist-packages (from hdbscan>=0.8.29->bertopic) (1.10.1)\n",
            "Requirement already satisfied: joblib>=1.0 in /usr/local/lib/python3.10/dist-packages (from hdbscan>=0.8.29->bertopic) (1.3.2)\n",
            "Requirement already satisfied: python-dateutil>=2.8.1 in /usr/local/lib/python3.10/dist-packages (from pandas>=1.1.5->bertopic) (2.8.2)\n",
            "Requirement already satisfied: pytz>=2020.1 in /usr/local/lib/python3.10/dist-packages (from pandas>=1.1.5->bertopic) (2023.3)\n",
            "Requirement already satisfied: tenacity>=6.2.0 in /usr/local/lib/python3.10/dist-packages (from plotly>=4.7.0->bertopic) (8.2.3)\n",
            "Requirement already satisfied: packaging in /usr/local/lib/python3.10/dist-packages (from plotly>=4.7.0->bertopic) (23.1)\n",
            "Requirement already satisfied: threadpoolctl>=2.0.0 in /usr/local/lib/python3.10/dist-packages (from scikit-learn>=0.22.2.post1->bertopic) (3.2.0)\n",
            "Requirement already satisfied: transformers<5.0.0,>=4.6.0 in /usr/local/lib/python3.10/dist-packages (from sentence-transformers>=0.4.1->bertopic) (4.33.0)\n",
            "Requirement already satisfied: torch>=1.6.0 in /usr/local/lib/python3.10/dist-packages (from sentence-transformers>=0.4.1->bertopic) (2.0.1+cu118)\n",
            "Requirement already satisfied: torchvision in /usr/local/lib/python3.10/dist-packages (from sentence-transformers>=0.4.1->bertopic) (0.15.2+cu118)\n",
            "Requirement already satisfied: nltk in /usr/local/lib/python3.10/dist-packages (from sentence-transformers>=0.4.1->bertopic) (3.8.1)\n",
            "Requirement already satisfied: sentencepiece in /usr/local/lib/python3.10/dist-packages (from sentence-transformers>=0.4.1->bertopic) (0.1.99)\n",
            "Requirement already satisfied: huggingface-hub>=0.4.0 in /usr/local/lib/python3.10/dist-packages (from sentence-transformers>=0.4.1->bertopic) (0.16.4)\n",
            "Requirement already satisfied: numba>=0.49 in /usr/local/lib/python3.10/dist-packages (from umap-learn>=0.5.0->bertopic) (0.56.4)\n",
            "Requirement already satisfied: pynndescent>=0.5 in /usr/local/lib/python3.10/dist-packages (from umap-learn>=0.5.0->bertopic) (0.5.10)\n",
            "Requirement already satisfied: filelock in /usr/local/lib/python3.10/dist-packages (from huggingface-hub>=0.4.0->sentence-transformers>=0.4.1->bertopic) (3.12.2)\n",
            "Requirement already satisfied: fsspec in /usr/local/lib/python3.10/dist-packages (from huggingface-hub>=0.4.0->sentence-transformers>=0.4.1->bertopic) (2023.6.0)\n",
            "Requirement already satisfied: requests in /usr/local/lib/python3.10/dist-packages (from huggingface-hub>=0.4.0->sentence-transformers>=0.4.1->bertopic) (2.31.0)\n",
            "Requirement already satisfied: pyyaml>=5.1 in /usr/local/lib/python3.10/dist-packages (from huggingface-hub>=0.4.0->sentence-transformers>=0.4.1->bertopic) (6.0.1)\n",
            "Requirement already satisfied: typing-extensions>=3.7.4.3 in /usr/local/lib/python3.10/dist-packages (from huggingface-hub>=0.4.0->sentence-transformers>=0.4.1->bertopic) (4.7.1)\n",
            "Requirement already satisfied: llvmlite<0.40,>=0.39.0dev0 in /usr/local/lib/python3.10/dist-packages (from numba>=0.49->umap-learn>=0.5.0->bertopic) (0.39.1)\n",
            "Requirement already satisfied: setuptools in /usr/local/lib/python3.10/dist-packages (from numba>=0.49->umap-learn>=0.5.0->bertopic) (67.7.2)\n",
            "Requirement already satisfied: six>=1.5 in /usr/local/lib/python3.10/dist-packages (from python-dateutil>=2.8.1->pandas>=1.1.5->bertopic) (1.16.0)\n",
            "Requirement already satisfied: sympy in /usr/local/lib/python3.10/dist-packages (from torch>=1.6.0->sentence-transformers>=0.4.1->bertopic) (1.12)\n",
            "Requirement already satisfied: networkx in /usr/local/lib/python3.10/dist-packages (from torch>=1.6.0->sentence-transformers>=0.4.1->bertopic) (3.1)\n",
            "Requirement already satisfied: jinja2 in /usr/local/lib/python3.10/dist-packages (from torch>=1.6.0->sentence-transformers>=0.4.1->bertopic) (3.1.2)\n",
            "Requirement already satisfied: triton==2.0.0 in /usr/local/lib/python3.10/dist-packages (from torch>=1.6.0->sentence-transformers>=0.4.1->bertopic) (2.0.0)\n",
            "Requirement already satisfied: cmake in /usr/local/lib/python3.10/dist-packages (from triton==2.0.0->torch>=1.6.0->sentence-transformers>=0.4.1->bertopic) (3.27.2)\n",
            "Requirement already satisfied: lit in /usr/local/lib/python3.10/dist-packages (from triton==2.0.0->torch>=1.6.0->sentence-transformers>=0.4.1->bertopic) (16.0.6)\n",
            "Requirement already satisfied: regex!=2019.12.17 in /usr/local/lib/python3.10/dist-packages (from transformers<5.0.0,>=4.6.0->sentence-transformers>=0.4.1->bertopic) (2023.6.3)\n",
            "Requirement already satisfied: tokenizers!=0.11.3,<0.14,>=0.11.1 in /usr/local/lib/python3.10/dist-packages (from transformers<5.0.0,>=4.6.0->sentence-transformers>=0.4.1->bertopic) (0.13.3)\n",
            "Requirement already satisfied: safetensors>=0.3.1 in /usr/local/lib/python3.10/dist-packages (from transformers<5.0.0,>=4.6.0->sentence-transformers>=0.4.1->bertopic) (0.3.3)\n",
            "Requirement already satisfied: click in /usr/local/lib/python3.10/dist-packages (from nltk->sentence-transformers>=0.4.1->bertopic) (8.1.7)\n",
            "Requirement already satisfied: pillow!=8.3.*,>=5.3.0 in /usr/local/lib/python3.10/dist-packages (from torchvision->sentence-transformers>=0.4.1->bertopic) (9.4.0)\n",
            "Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.10/dist-packages (from jinja2->torch>=1.6.0->sentence-transformers>=0.4.1->bertopic) (2.1.3)\n",
            "Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.10/dist-packages (from requests->huggingface-hub>=0.4.0->sentence-transformers>=0.4.1->bertopic) (3.2.0)\n",
            "Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/dist-packages (from requests->huggingface-hub>=0.4.0->sentence-transformers>=0.4.1->bertopic) (3.4)\n",
            "Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.10/dist-packages (from requests->huggingface-hub>=0.4.0->sentence-transformers>=0.4.1->bertopic) (2.0.4)\n",
            "Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/dist-packages (from requests->huggingface-hub>=0.4.0->sentence-transformers>=0.4.1->bertopic) (2023.7.22)\n",
            "Requirement already satisfied: mpmath>=0.19 in /usr/local/lib/python3.10/dist-packages (from sympy->torch>=1.6.0->sentence-transformers>=0.4.1->bertopic) (1.3.0)\n"
          ]
        }
      ],
      "source": [
        "!pip install bertopic\n",
        "from bertopic import BERTopic\n",
        "import json\n",
        "import pandas as pd\n",
        "from google.colab import files"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "cm5YslqzhNhM",
        "outputId": "8b5c2e63-075c-4b0c-d9b5-29123d550503"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "Requirement already satisfied: nltk in /usr/local/lib/python3.10/dist-packages (3.8.1)\n",
            "Requirement already satisfied: click in /usr/local/lib/python3.10/dist-packages (from nltk) (8.1.7)\n",
            "Requirement already satisfied: joblib in /usr/local/lib/python3.10/dist-packages (from nltk) (1.3.2)\n",
            "Requirement already satisfied: regex>=2021.8.3 in /usr/local/lib/python3.10/dist-packages (from nltk) (2023.6.3)\n",
            "Requirement already satisfied: tqdm in /usr/local/lib/python3.10/dist-packages (from nltk) (4.66.1)\n"
          ]
        },
        {
          "output_type": "stream",
          "name": "stderr",
          "text": [
            "[nltk_data] Downloading package stopwords to /root/nltk_data...\n",
            "[nltk_data]   Package stopwords is already up-to-date!\n"
          ]
        }
      ],
      "source": [
        "!pip install nltk\n",
        "import nltk\n",
        "nltk.download('stopwords')\n",
        "from nltk.corpus import stopwords\n",
        "import re\n",
        "\n",
        "stop_words = set(stopwords.words('english'))\n",
        "new_stopwords =[\"vaping\", \"vape\", \"nicotine\", \"cigarettes\", \"cigarette\", \"juul\", \"juice\", \"juices\", \"smoking\",\n",
        "                \"smoke\", \"tobacco\", \"nic\", \"cigs\", \"vaped\", \"vapes\"]\n",
        "new_stopwords2 =[\"im\",\"quit\", \"quitting\", \"ive\", \"i've\"]\n",
        "new_stopwords3 =[\"year\",\"years\", \"day\", \"days\", \"since\", \"ago\", \"week\", \"weeks\", \"today\", \"months\", \"month\"]\n",
        "# stop_words = stop_words.union(new_stopwords, new_stopwords2) #, new_stopwords3) - include temporal terms\n",
        "\n",
        "def clean_text(posts):\n",
        "  cleaned_posts = []\n",
        "  for sentences in posts:\n",
        "    split = re.findall(r\"[\\w']+|[!?]\", sentences)\n",
        "    i = 0\n",
        "    while i < len(split)-1:\n",
        "      if split[i] == split[i+1]:\n",
        "        del split[i+1]\n",
        "        i-=1\n",
        "      i+= 1\n",
        "    # Remove all instances of \\n where only the n remains\n",
        "    split = [i for i in split if i != \"n\" and i not in stop_words]\n",
        "    cleaned_posts.append(\" \".join(split))\n",
        "  return cleaned_posts"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 150,
          "referenced_widgets": [
            "a447657570a74fc481d9863eca825330",
            "21d7ad617d404ea7810d9bc9426fe992",
            "406db65082e24ba2bb8ead9d9f82b927",
            "afb985d8a33d496cb3ad662c7d976261",
            "bf8c6069d2cc44c18c8749465c54c8a2",
            "74223ba28d044cc194e28d2e8bfd1400",
            "0dc404efddc64c09b71e784bbf327e39",
            "407088288d5849169757b44c5d60809a",
            "1b77816e33644cfdb8027284b399a349",
            "98b4df01e1844b62bd370ec3d83677a8",
            "92f4ab396728473db8283ccd26a634f1",
            "5fd67bf488a842aaac0af5eff9bb67a4",
            "26444b37239b492ab3f3b55ad0d55ff8",
            "f3015d9203b04c5bbd2e52239e49ad1c",
            "b1d61a02e7a94e7386a770d26a10d3f5",
            "6927796279fd4b41b3c2234acd859de8",
            "9196b2204b304b50a5ab3275b02d7627",
            "7dfd25e2886243c99612c1c553a4fb73",
            "1a61be6e74c840b2ae28335b979824e0",
            "83894dc7cc2f4e5bbccc71e316669e43",
            "f92cb5ab8ce945d0b34c1f8630c09e49",
            "cab0cd61e55843d692b478e3f7c98002"
          ]
        },
        "id": "t5HKNKMOckhh",
        "outputId": "4283f223-98a6-4e97-bbd5-927b0d6ce4b3"
      },
      "outputs": [
        {
          "output_type": "display_data",
          "data": {
            "text/plain": [
              "Batches:   0%|          | 0/105 [00:00<?, ?it/s]"
            ],
            "application/vnd.jupyter.widget-view+json": {
              "version_major": 2,
              "version_minor": 0,
              "model_id": "a447657570a74fc481d9863eca825330"
            }
          },
          "metadata": {}
        },
        {
          "output_type": "stream",
          "name": "stderr",
          "text": [
            "2023-09-05 16:10:19,019 - BERTopic - Transformed documents to Embeddings\n"
          ]
        },
        {
          "output_type": "display_data",
          "data": {
            "text/plain": [
              "Batches:   0%|          | 0/1 [00:00<?, ?it/s]"
            ],
            "application/vnd.jupyter.widget-view+json": {
              "version_major": 2,
              "version_minor": 0,
              "model_id": "5fd67bf488a842aaac0af5eff9bb67a4"
            }
          },
          "metadata": {}
        },
        {
          "output_type": "stream",
          "name": "stderr",
          "text": [
            "2023-09-05 16:10:43,380 - BERTopic - Reduced dimensionality\n",
            "2023-09-05 16:10:43,820 - BERTopic - Clustered reduced embeddings\n"
          ]
        },
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "<bertopic._bertopic.BERTopic at 0x7d25c8c96ad0>"
            ]
          },
          "metadata": {},
          "execution_count": 43
        }
      ],
      "source": [
        "l, l_m, h_m, h, top_10 = map(list, [low_df[\"text\"], low_mid_df[\"text\"], high_mid_df[\"text\"], high_df[\"text\"], top_10_df[\"text\"]])\n",
        "l, l_m, h_m, h, top_10 = map(clean_text, [l, l_m, h_m, h, top_10])\n",
        "from sklearn.feature_extraction.text import CountVectorizer\n",
        "# we add this to remove stopwords\n",
        "vectorizer_model = CountVectorizer(ngram_range=(1, 2), stop_words=list(stop_words))\n",
        "\n",
        "all_texts = exp_posts['selftext'].tolist()\n",
        "\n",
        "topic_model = BERTopic(vectorizer_model=vectorizer_model,\n",
        "                       top_n_words=100,\n",
        "    language='english', calculate_probabilities=True,\n",
        "    verbose=True,\n",
        "    seed_topic_list=[['proud'], ['book'], ['weight', 'gain'], ['withdrawal', 'symptoms'], ['family', 'friends'], ['patches', 'gum', 'lozenges', 'toothpicks', 'cold turkey', 'wean'], [\"covid\", \"pandemic\", \"lockdown\"]])\n",
        "    # seed_topic_list=[['trigger', 'avoid', 'failed', 'ended up', 'caved', 'relapse', 'relapsed'], ['book'], ['weight', 'gain'], ['withdrawal', 'symptoms'], ['family', 'friends'], ['patches', 'gum', 'lozenges', 'toothpicks', 'cold turkey', 'wean'], [\"covid\", \"pandemic\", \"lockdown\"]])\n",
        "#nr topic, min topic size, n neighbor\n",
        "topic_model.fit(all_texts)"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {
        "id": "D5VppjY7d0m1",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 1000,
          "referenced_widgets": [
            "1ccf5a8d6e4542279e5264893bd044a0",
            "9fa2a36b92074692ae80a15c38824628",
            "0eb77ae8dae0461eac9e235f85318e50",
            "6e75cbf612b04a82a16ce05fbf364462",
            "8f77adc49b9d4f40b688a977fb5065c4",
            "9601f29bd709498bb94675014908b5de",
            "d1f305b108ba4a9a8abfff40ad041b29",
            "c1cc382ad70a4ce19a3989e46a2c3817",
            "cc27de7de47146d39d401a9847c5b398",
            "68b625d44fb047c2bbbf33e07fc974e7",
            "93e1d0a6a79b4711916a89ab6594f150"
          ]
        },
        "outputId": "24eea72d-887a-43e2-928b-a6080fc5314b"
      },
      "outputs": [
        {
          "output_type": "display_data",
          "data": {
            "text/plain": [
              "Batches:   0%|          | 0/11 [00:00<?, ?it/s]"
            ],
            "application/vnd.jupyter.widget-view+json": {
              "version_major": 2,
              "version_minor": 0,
              "model_id": "1ccf5a8d6e4542279e5264893bd044a0"
            }
          },
          "metadata": {}
        },
        {
          "output_type": "stream",
          "name": "stderr",
          "text": [
            "2023-09-05 16:11:32,054 - BERTopic - Reduced dimensionality\n",
            "2023-09-05 16:11:32,141 - BERTopic - Calculated probabilities with HDBSCAN\n",
            "2023-09-05 16:11:32,143 - BERTopic - Predicted clusters\n"
          ]
        },
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "1\n",
            "2\n",
            "3\n",
            "    Topic  Count                                               Name  \\\n",
            "0      -1      0                             -1_im_vaping_quit_vape   \n",
            "1       0    200                              0_im_vaping_vape_quit   \n",
            "2       1     38                         1_nicotine_cravings_day_im   \n",
            "3       2     18                              2_vape_quit_im_vaping   \n",
            "4       3     13                          3_cravings_vaping_im_vape   \n",
            "5       4      7                              4_im_better_feel_like   \n",
            "6       5      9                               5_juul_pods_pod_quit   \n",
            "7       6      6                            6_quit_im_quitting_last   \n",
            "8       7      6                             7_cravings_day_im_days   \n",
            "9       8      6                  8_nicotine_patch_cold_cold turkey   \n",
            "10      9     15                        9_nicotine_quit_like_really   \n",
            "11     10      4                        10_vaping_lungs_quit_breath   \n",
            "12     11      5                           11_book_quit_vaping_vape   \n",
            "13     12      4                              12_vape_hit_im_vaping   \n",
            "14     13      0                      13_pouches_zyn_nicotine_using   \n",
            "15     14      5          14_avoid_motivation_avoid fixated_fixated   \n",
            "16     15      0                      15_brain fog_feeling_fog_feel   \n",
            "17     16      2                    16_gum_nicotine_nicotine gum_im   \n",
            "18     17      0                    17_quit_cravings_date_quit cold   \n",
            "19     18      3                          18_nic_nic free_free_time   \n",
            "20     19      1                        19_dream_dreams_street_vape   \n",
            "21     20      4                    20_vaping_vape_nicotine_effects   \n",
            "22     21      1         21_patches_nicotine_nicotine patches_patch   \n",
            "23     22      1                        22_vape_day_vaping_nicotine   \n",
            "24     23      1                         23_weight_gain_vaping_quit   \n",
            "25     24      2  24_disposables_strawberry_mall_buying disposables   \n",
            "\n",
            "                                       Representation  \\\n",
            "0   [im, vaping, quit, vape, ive, like, day, feel,...   \n",
            "1   [im, vaping, vape, quit, like, ive, feel, time...   \n",
            "2   [nicotine, cravings, day, im, days, time, feel...   \n",
            "3   [vape, quit, im, vaping, day, quitting, today,...   \n",
            "4   [cravings, vaping, im, vape, craving, ive, qui...   \n",
            "5   [im, better, feel, like, day, days, ive, sleep...   \n",
            "6   [juul, pods, pod, quit, im, ive, nicotine, lik...   \n",
            "7   [quit, im, quitting, last, year, good, time, m...   \n",
            "8   [cravings, day, im, days, feel, still, eating,...   \n",
            "9   [nicotine, patch, cold, cold turkey, turkey, q...   \n",
            "10  [nicotine, quit, like, really, time, think, go...   \n",
            "11  [vaping, lungs, quit, breath, really, im, year...   \n",
            "12  [book, quit, vaping, vape, nicotine, time, eas...   \n",
            "13  [vape, hit, im, vaping, days, hit vape, one, f...   \n",
            "14  [pouches, zyn, nicotine, using, day, im, zyn p...   \n",
            "15  [avoid, motivation, avoid fixated, fixated, we...   \n",
            "16  [brain fog, feeling, fog, feel, sick, brain, a...   \n",
            "17  [gum, nicotine, nicotine gum, im, cravings, da...   \n",
            "18  [quit, cravings, date, quit cold, hunger, time...   \n",
            "19  [nic, nic free, free, time, much, better, im, ...   \n",
            "20  [dream, dreams, street, vape, one, woke, wake,...   \n",
            "21  [vaping, vape, nicotine, effects, blood, smoki...   \n",
            "22  [patches, nicotine, nicotine patches, patch, d...   \n",
            "23  [vape, day, vaping, nicotine, partner, gum, on...   \n",
            "24  [weight, gain, vaping, quit, gained, weight ga...   \n",
            "25  [disposables, strawberry, mall, buying disposa...   \n",
            "\n",
            "                                  Representative_Docs  \n",
            "0   [I have been vaping 50mg salt nic daily for ab...  \n",
            "1   [To my future self and anyone else who needs t...  \n",
            "2   [I just hit 3 weeks vape and nicotine free ton...  \n",
            "3   [This is my second real attempt at quitting af...  \n",
            "4   [I was a little embarrassed to post this becau...  \n",
            "5   [Hello everyone! I made it to 31 (now 32) days...  \n",
            "6   [Thought I would add a data point here in case...  \n",
            "7   [For disclosure, this is the millionth time iv...  \n",
            "8   [I just woke up the other day and it hit me, w...  \n",
            "9   [\\nHey all, \\n\\nAs I find some relief of being...  \n",
            "10  [I just saw a post about quitting in /r/coolgu...  \n",
            "11  [I struggle really hard with quitting and I've...  \n",
            "12  [After 2 years of vaping 1 pod of 50 nic salt ...  \n",
            "13  [And I feel fantastic. The worst part about it...  \n",
            "14  [A little background, I’ve been lurking in thi...  \n",
            "15  [so i literally am currently starting NOW bc i...  \n",
            "16  [I’ve had a mild cold this weekend, nothing to...  \n",
            "17  [0% nic disposable vape and nic gum.\\n\\nspecif...  \n",
            "18  [I quit 2 and a half weeks ago after trying to...  \n",
            "19  [Just wanted to say I’m over 3 weeks nic free!...  \n",
            "20  [So i’m currently 26 days and i’m having vapin...  \n",
            "21  [Today I want to break down things you may not...  \n",
            "22  [ I've finally had enough and need to stop. I ...  \n",
            "23  [For me personally it did. Vaping made my nico...  \n",
            "24  [5 days in! I never thought I’d make it this l...  \n",
            "25  [Been in an awful year-long cycle of buying di...  \n"
          ]
        }
      ],
      "source": [
        "import json\n",
        "def get_topic(saved_column, name):\n",
        "  #print(len(topics)) will print 3397 - \"topics\" is a list of numbers that labels posts with topics\n",
        "  topics, probs = topic_model.transform(saved_column)\n",
        "\n",
        "  # p = {ind: list(i) for ind, i in enumerate(probs)}\n",
        "\n",
        "  # json_object = json.dumps(p, indent=4)\n",
        "  # with open(name+\"_probabilities.json\", \"w\") as outfile:\n",
        "  #     outfile.write(json_object)\n",
        "  print(1)\n",
        "  new_topics = topic_model.reduce_outliers(saved_column, topics, strategy=\"c-tf-idf\")\n",
        "  print(2)\n",
        "  t = {ind:int(i) for ind, i in enumerate(new_topics)}\n",
        "  json_object = json.dumps(t, indent=4)\n",
        "  with open(name+\"_topics.json\", \"w\") as outfile:\n",
        "      outfile.write(json_object)\n",
        "  print(3)\n",
        "  df = topic_model.get_topic_info()\n",
        "  d = {i:0 for i in range(-1, len(new_topics))}\n",
        "  for i in new_topics:\n",
        "    d[i] += 1\n",
        "  for i in range(len(df)):\n",
        "    df.loc[i, \"Count\"] = d[i-1]\n",
        "  df.to_csv(name+\".csv\", index=False)\n",
        "  print(df)\n",
        "\n",
        "\n",
        "get_topic(top_10, \"top_10%\")"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {
        "id": "VCaUBYWRWmyR"
      },
      "outputs": [],
      "source": [
        "# get_topic(h, \"top_25%\")"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {
        "id": "GWqEydJfdZFM",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 1000,
          "referenced_widgets": [
            "fb07e1e4227b40cca6f0204e4e7d6b9b",
            "510230d631c34af18fa54e98fe76ef31",
            "ffa9c408e34d4da39fec0959b5d874e4",
            "7eaec808a6ef4aeb898dd25e10c7a23f",
            "10cd52b9610b4d3f9314937b06d517bf",
            "d567a2e975514615a39d336564347ef5",
            "5ebdb9f741964e568204b4343c5d3398",
            "849dd45a40ca477fb23db61dfeded699",
            "b05848c892604febb45670613dd8125a",
            "cf68b52c149449709a9a84a20a750484",
            "7ab129c8b5104b99a927fc62dc8539a6"
          ]
        },
        "outputId": "9e790204-0363-443e-b9cc-a28883c24456"
      },
      "outputs": [
        {
          "output_type": "display_data",
          "data": {
            "text/plain": [
              "Batches:   0%|          | 0/48 [00:00<?, ?it/s]"
            ],
            "application/vnd.jupyter.widget-view+json": {
              "version_major": 2,
              "version_minor": 0,
              "model_id": "fb07e1e4227b40cca6f0204e4e7d6b9b"
            }
          },
          "metadata": {}
        },
        {
          "output_type": "stream",
          "name": "stderr",
          "text": [
            "2023-09-05 16:34:06,954 - BERTopic - Reduced dimensionality\n",
            "2023-09-05 16:34:07,595 - BERTopic - Calculated probabilities with HDBSCAN\n",
            "2023-09-05 16:34:07,602 - BERTopic - Predicted clusters\n"
          ]
        },
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "1\n",
            "2\n",
            "3\n",
            "    Topic  Count                                               Name  \\\n",
            "0      -1      0                             -1_im_vaping_quit_vape   \n",
            "1       0    832                              0_im_vaping_vape_quit   \n",
            "2       1    145                         1_nicotine_cravings_day_im   \n",
            "3       2     86                              2_vape_quit_im_vaping   \n",
            "4       3     73                          3_cravings_vaping_im_vape   \n",
            "5       4     57                              4_im_better_feel_like   \n",
            "6       5     35                               5_juul_pods_pod_quit   \n",
            "7       6     27                            6_quit_im_quitting_last   \n",
            "8       7     22                             7_cravings_day_im_days   \n",
            "9       8     46                  8_nicotine_patch_cold_cold turkey   \n",
            "10      9     36                        9_nicotine_quit_like_really   \n",
            "11     10     22                        10_vaping_lungs_quit_breath   \n",
            "12     11     32                           11_book_quit_vaping_vape   \n",
            "13     12     16                              12_vape_hit_im_vaping   \n",
            "14     13      9                      13_pouches_zyn_nicotine_using   \n",
            "15     14     13          14_avoid_motivation_avoid fixated_fixated   \n",
            "16     15      5                      15_brain fog_feeling_fog_feel   \n",
            "17     16     13                    16_gum_nicotine_nicotine gum_im   \n",
            "18     17      7                    17_quit_cravings_date_quit cold   \n",
            "19     18      9                          18_nic_nic free_free_time   \n",
            "20     19      6                        19_dream_dreams_street_vape   \n",
            "21     20      8                    20_vaping_vape_nicotine_effects   \n",
            "22     21      4         21_patches_nicotine_nicotine patches_patch   \n",
            "23     22      3                        22_vape_day_vaping_nicotine   \n",
            "24     23      3                         23_weight_gain_vaping_quit   \n",
            "25     24      4  24_disposables_strawberry_mall_buying disposables   \n",
            "\n",
            "                                       Representation  \\\n",
            "0   [im, vaping, quit, vape, ive, like, day, feel,...   \n",
            "1   [im, vaping, vape, quit, like, ive, feel, time...   \n",
            "2   [nicotine, cravings, day, im, days, time, feel...   \n",
            "3   [vape, quit, im, vaping, day, quitting, today,...   \n",
            "4   [cravings, vaping, im, vape, craving, ive, qui...   \n",
            "5   [im, better, feel, like, day, days, ive, sleep...   \n",
            "6   [juul, pods, pod, quit, im, ive, nicotine, lik...   \n",
            "7   [quit, im, quitting, last, year, good, time, m...   \n",
            "8   [cravings, day, im, days, feel, still, eating,...   \n",
            "9   [nicotine, patch, cold, cold turkey, turkey, q...   \n",
            "10  [nicotine, quit, like, really, time, think, go...   \n",
            "11  [vaping, lungs, quit, breath, really, im, year...   \n",
            "12  [book, quit, vaping, vape, nicotine, time, eas...   \n",
            "13  [vape, hit, im, vaping, days, hit vape, one, f...   \n",
            "14  [pouches, zyn, nicotine, using, day, im, zyn p...   \n",
            "15  [avoid, motivation, avoid fixated, fixated, we...   \n",
            "16  [brain fog, feeling, fog, feel, sick, brain, a...   \n",
            "17  [gum, nicotine, nicotine gum, im, cravings, da...   \n",
            "18  [quit, cravings, date, quit cold, hunger, time...   \n",
            "19  [nic, nic free, free, time, much, better, im, ...   \n",
            "20  [dream, dreams, street, vape, one, woke, wake,...   \n",
            "21  [vaping, vape, nicotine, effects, blood, smoki...   \n",
            "22  [patches, nicotine, nicotine patches, patch, d...   \n",
            "23  [vape, day, vaping, nicotine, partner, gum, on...   \n",
            "24  [weight, gain, vaping, quit, gained, weight ga...   \n",
            "25  [disposables, strawberry, mall, buying disposa...   \n",
            "\n",
            "                                  Representative_Docs  \n",
            "0   [I have been vaping 50mg salt nic daily for ab...  \n",
            "1   [To my future self and anyone else who needs t...  \n",
            "2   [I just hit 3 weeks vape and nicotine free ton...  \n",
            "3   [This is my second real attempt at quitting af...  \n",
            "4   [I was a little embarrassed to post this becau...  \n",
            "5   [Hello everyone! I made it to 31 (now 32) days...  \n",
            "6   [Thought I would add a data point here in case...  \n",
            "7   [For disclosure, this is the millionth time iv...  \n",
            "8   [I just woke up the other day and it hit me, w...  \n",
            "9   [\\nHey all, \\n\\nAs I find some relief of being...  \n",
            "10  [I just saw a post about quitting in /r/coolgu...  \n",
            "11  [I struggle really hard with quitting and I've...  \n",
            "12  [After 2 years of vaping 1 pod of 50 nic salt ...  \n",
            "13  [And I feel fantastic. The worst part about it...  \n",
            "14  [A little background, I’ve been lurking in thi...  \n",
            "15  [so i literally am currently starting NOW bc i...  \n",
            "16  [I’ve had a mild cold this weekend, nothing to...  \n",
            "17  [0% nic disposable vape and nic gum.\\n\\nspecif...  \n",
            "18  [I quit 2 and a half weeks ago after trying to...  \n",
            "19  [Just wanted to say I’m over 3 weeks nic free!...  \n",
            "20  [So i’m currently 26 days and i’m having vapin...  \n",
            "21  [Today I want to break down things you may not...  \n",
            "22  [ I've finally had enough and need to stop. I ...  \n",
            "23  [For me personally it did. Vaping made my nico...  \n",
            "24  [5 days in! I never thought I’d make it this l...  \n",
            "25  [Been in an awful year-long cycle of buying di...  \n"
          ]
        }
      ],
      "source": [
        "get_topic(h_m, \"8_above\")"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {
        "id": "UKGfFC14TJiE",
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 1000,
          "referenced_widgets": [
            "4e6a22b7616147d88a89ce21c6cd8319",
            "f64fe9606bdd464c82da200151ffc7b2",
            "66b051b84fbd4a86ab0862fa07f9f478",
            "8d537b6b3bf44ab0b6f7e294ee729898",
            "9ba13deeb7054ae19187acf97a540e4b",
            "6bd82b7b0d024cab91e773de96bb5804",
            "85845128545444f4a52c0fb68209c8ef",
            "2b47c7e9c4284083996807b4873cd8cd",
            "2821d93b043e4826a930e8fa07968107",
            "0a7a3efb15454456866242f60cb4eaaa",
            "ec48607f5b5443d4bddce9b88730e8d9"
          ]
        },
        "outputId": "54293ca5-aebb-4a3a-9aec-ab6548c41812"
      },
      "outputs": [
        {
          "output_type": "display_data",
          "data": {
            "text/plain": [
              "Batches:   0%|          | 0/56 [00:00<?, ?it/s]"
            ],
            "application/vnd.jupyter.widget-view+json": {
              "version_major": 2,
              "version_minor": 0,
              "model_id": "4e6a22b7616147d88a89ce21c6cd8319"
            }
          },
          "metadata": {}
        },
        {
          "output_type": "stream",
          "name": "stderr",
          "text": [
            "2023-09-05 16:36:02,132 - BERTopic - Reduced dimensionality\n",
            "2023-09-05 16:36:02,866 - BERTopic - Calculated probabilities with HDBSCAN\n",
            "2023-09-05 16:36:02,872 - BERTopic - Predicted clusters\n"
          ]
        },
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "1\n",
            "2\n",
            "3\n",
            "    Topic  Count                                               Name  \\\n",
            "0      -1      0                             -1_im_vaping_quit_vape   \n",
            "1       0    908                              0_im_vaping_vape_quit   \n",
            "2       1    125                         1_nicotine_cravings_day_im   \n",
            "3       2    102                              2_vape_quit_im_vaping   \n",
            "4       3     89                          3_cravings_vaping_im_vape   \n",
            "5       4     97                              4_im_better_feel_like   \n",
            "6       5     50                               5_juul_pods_pod_quit   \n",
            "7       6     33                            6_quit_im_quitting_last   \n",
            "8       7     34                             7_cravings_day_im_days   \n",
            "9       8     82                  8_nicotine_patch_cold_cold turkey   \n",
            "10      9     34                        9_nicotine_quit_like_really   \n",
            "11     10     35                        10_vaping_lungs_quit_breath   \n",
            "12     11     29                           11_book_quit_vaping_vape   \n",
            "13     12     20                              12_vape_hit_im_vaping   \n",
            "14     13     26                      13_pouches_zyn_nicotine_using   \n",
            "15     14     18          14_avoid_motivation_avoid fixated_fixated   \n",
            "16     15     14                      15_brain fog_feeling_fog_feel   \n",
            "17     16     14                    16_gum_nicotine_nicotine gum_im   \n",
            "18     17     11                    17_quit_cravings_date_quit cold   \n",
            "19     18      9                          18_nic_nic free_free_time   \n",
            "20     19      9                        19_dream_dreams_street_vape   \n",
            "21     20      4                    20_vaping_vape_nicotine_effects   \n",
            "22     21     12         21_patches_nicotine_nicotine patches_patch   \n",
            "23     22     12                        22_vape_day_vaping_nicotine   \n",
            "24     23     11                         23_weight_gain_vaping_quit   \n",
            "25     24      8  24_disposables_strawberry_mall_buying disposables   \n",
            "\n",
            "                                       Representation  \\\n",
            "0   [im, vaping, quit, vape, ive, like, day, feel,...   \n",
            "1   [im, vaping, vape, quit, like, ive, feel, time...   \n",
            "2   [nicotine, cravings, day, im, days, time, feel...   \n",
            "3   [vape, quit, im, vaping, day, quitting, today,...   \n",
            "4   [cravings, vaping, im, vape, craving, ive, qui...   \n",
            "5   [im, better, feel, like, day, days, ive, sleep...   \n",
            "6   [juul, pods, pod, quit, im, ive, nicotine, lik...   \n",
            "7   [quit, im, quitting, last, year, good, time, m...   \n",
            "8   [cravings, day, im, days, feel, still, eating,...   \n",
            "9   [nicotine, patch, cold, cold turkey, turkey, q...   \n",
            "10  [nicotine, quit, like, really, time, think, go...   \n",
            "11  [vaping, lungs, quit, breath, really, im, year...   \n",
            "12  [book, quit, vaping, vape, nicotine, time, eas...   \n",
            "13  [vape, hit, im, vaping, days, hit vape, one, f...   \n",
            "14  [pouches, zyn, nicotine, using, day, im, zyn p...   \n",
            "15  [avoid, motivation, avoid fixated, fixated, we...   \n",
            "16  [brain fog, feeling, fog, feel, sick, brain, a...   \n",
            "17  [gum, nicotine, nicotine gum, im, cravings, da...   \n",
            "18  [quit, cravings, date, quit cold, hunger, time...   \n",
            "19  [nic, nic free, free, time, much, better, im, ...   \n",
            "20  [dream, dreams, street, vape, one, woke, wake,...   \n",
            "21  [vaping, vape, nicotine, effects, blood, smoki...   \n",
            "22  [patches, nicotine, nicotine patches, patch, d...   \n",
            "23  [vape, day, vaping, nicotine, partner, gum, on...   \n",
            "24  [weight, gain, vaping, quit, gained, weight ga...   \n",
            "25  [disposables, strawberry, mall, buying disposa...   \n",
            "\n",
            "                                  Representative_Docs  \n",
            "0   [I have been vaping 50mg salt nic daily for ab...  \n",
            "1   [To my future self and anyone else who needs t...  \n",
            "2   [I just hit 3 weeks vape and nicotine free ton...  \n",
            "3   [This is my second real attempt at quitting af...  \n",
            "4   [I was a little embarrassed to post this becau...  \n",
            "5   [Hello everyone! I made it to 31 (now 32) days...  \n",
            "6   [Thought I would add a data point here in case...  \n",
            "7   [For disclosure, this is the millionth time iv...  \n",
            "8   [I just woke up the other day and it hit me, w...  \n",
            "9   [\\nHey all, \\n\\nAs I find some relief of being...  \n",
            "10  [I just saw a post about quitting in /r/coolgu...  \n",
            "11  [I struggle really hard with quitting and I've...  \n",
            "12  [After 2 years of vaping 1 pod of 50 nic salt ...  \n",
            "13  [And I feel fantastic. The worst part about it...  \n",
            "14  [A little background, I’ve been lurking in thi...  \n",
            "15  [so i literally am currently starting NOW bc i...  \n",
            "16  [I’ve had a mild cold this weekend, nothing to...  \n",
            "17  [0% nic disposable vape and nic gum.\\n\\nspecif...  \n",
            "18  [I quit 2 and a half weeks ago after trying to...  \n",
            "19  [Just wanted to say I’m over 3 weeks nic free!...  \n",
            "20  [So i’m currently 26 days and i’m having vapin...  \n",
            "21  [Today I want to break down things you may not...  \n",
            "22  [ I've finally had enough and need to stop. I ...  \n",
            "23  [For me personally it did. Vaping made my nico...  \n",
            "24  [5 days in! I never thought I’d make it this l...  \n",
            "25  [Been in an awful year-long cycle of buying di...  \n"
          ]
        }
      ],
      "source": [
        "get_topic(l_m, \"1-7\")"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {
        "id": "IesUMF5gTMVv"
      },
      "outputs": [],
      "source": [
        "# get_topic(l, \"zero\")"
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "import nltk\n",
        "nltk.download('vader_lexicon')\n",
        "from nltk.sentiment.vader import SentimentIntensityAnalyzer\n",
        "\n",
        "def average(scores):\n",
        "  sum = 0\n",
        "  for score in scores:\n",
        "    sum += score['compound']\n",
        "  if len(scores) ==0:\n",
        "    return 0\n",
        "  else:\n",
        "    return str(sum/len(scores))\n",
        "sid = SentimentIntensityAnalyzer()\n",
        "def sentiment(df):\n",
        "  df['sentiment_scores'] = df['text'].apply(lambda review:sid.polarity_scores(review))\n",
        "  return float(average(df['sentiment_scores']))\n",
        "  # print(\"Average compound sentiment = \"+ average(df['sentiment_scores']))"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "dvFcDmI61Ae6",
        "outputId": "1adde648-706c-4cfc-aa1c-174e27e06348"
      },
      "execution_count": null,
      "outputs": [
        {
          "output_type": "stream",
          "name": "stderr",
          "text": [
            "[nltk_data] Downloading package vader_lexicon to /root/nltk_data...\n"
          ]
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "import pandas as pd\n",
        "df = pd.read_csv('/content/predicted_labels.csv')\n",
        "s = df['labels'][3500:].tolist()\n",
        "len(s)"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "wkszvX-H4oMu",
        "outputId": "219e7d5f-94f9-47af-fde6-7e7a2b063d7c"
      },
      "execution_count": null,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "4251"
            ]
          },
          "metadata": {},
          "execution_count": 11
        }
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {
        "id": "oASqxOnN8RlE",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "outputId": "e8979ba2-72ab-466c-d30f-30b4045355a1"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "0 3 42 195 258\n",
            "1 18 151 597 613\n",
            "2 1 38 172 140\n",
            "3 2 14 83 100\n",
            "4 0 12 70 98\n",
            "5 2 12 43 56\n",
            "6 1 10 35 37\n",
            "7 0 6 25 44\n",
            "8 2 7 32 55\n",
            "9 1 8 40 58\n",
            "10 1 18 39 37\n",
            "11 1 7 45 73\n",
            "12 1 6 34 24\n",
            "13 0 1 10 27\n",
            "14 0 0 9 28\n",
            "15 0 2 16 24\n",
            "16 0 1 10 23\n",
            "17 0 3 12 19\n",
            "18 1 0 6 10\n",
            "19 0 1 3 12\n",
            "20 0 3 7 7\n",
            "21 0 3 8 9\n",
            "22 0 1 7 5\n",
            "1\n",
            "('So, vaping causes massive heart rate and blood pressure spikes as well as '\n",
            " \"elevated resting heart rate, which isn't up for debate. One day when I was \"\n",
            " \"vaping heavily, the bottom half of my right eye went completely dark. It's \"\n",
            " \"called a Scotoma, and it's uncommon but doesn't require pre-existing \"\n",
            " 'issues.\\n'\n",
            " '\\n'\n",
            " 'Apparently a bunch of the capillaries in my eye burst, and while the '\n",
            " \"hemorrhage stopped, it's never going to fully heal and go away. Every \"\n",
            " 'morning when I turn the lights on, I can see it. My brain is getting better '\n",
            " \"at ignoring it, but it will always show up when I'm looking at something \"\n",
            " 'bright, or driving at night, or looking at something at an angle.\\n'\n",
            " '\\n'\n",
            " 'I used to like shooting guns, and i used to be good at it (I grew up around '\n",
            " \"firearms and spent 6 years in the army). But I'm right eye dominant, so now \"\n",
            " 'I cant even play house of the dead at a fucking dave and busters, let alone '\n",
            " 'shoot a rifle when my center vision is permanently grayed out.\\n'\n",
            " '\\n'\n",
            " 'Anyway, thats all to say you should quit before its too late. Not every '\n",
            " 'vaping risk is a slow creeping problem, sometimes everything is fine and '\n",
            " \"then it's suddenly fucked.\\n\"\n",
            " '\\n'\n",
            " 'EDIT:\\n'\n",
            " '\\n'\n",
            " 'A couple relevant research papers:\\n'\n",
            " '\\n'\n",
            " '- https://pubmed.ncbi.nlm.nih.gov/29688089/\\n'\n",
            " '- https://www.sciencedirect.com/science/article/abs/pii/S0002939434931536')\n",
            "____________________\n",
            "====================\n",
            "1\n",
            "(\"I'm a 20 y/o female and I had been vaping for a little over a year. I used \"\n",
            " 'devices such as JUUL, Vuse, and Baton as well as all kinds of disposables '\n",
            " 'you could think of. I only used 5% since anything lower did not give me a '\n",
            " 'buzz...Not only was it draining my wallet, but it was draining my physical, '\n",
            " 'emotional, and mental health. I even go to believe that it even went down to '\n",
            " 'change me at a subconscious and spiritual level.\\n'\n",
            " '\\n'\n",
            " 'Just two weeks ago, I started getting really bad acid reflux every time I '\n",
            " 'hit any vape. I took Pepto Bismol and I had to take A LOT of it to feel any '\n",
            " 'type of relief. Despite the fact that it felt so shitty to hit, I still felt '\n",
            " 'like I HAD TO pick up a device to get my quick fix.\\n'\n",
            " '\\n'\n",
            " 'Fast forward a week and my entire digestive system was raging. Every time I '\n",
            " \"hit nicotine, I would vomit. I didn't understand why I was doing this to \"\n",
            " 'myself. So, I quit. \\n'\n",
            " '\\n'\n",
            " 'The next few days are definitely contenders for my top ten worst days of my '\n",
            " 'life. I was feeling severe withdrawals mixed with an inflamed digestive '\n",
            " 'system. I was nauseous around the clock and my stomach was constantly '\n",
            " \"churning and growling. I couldn't keep any food down that week...\\n\"\n",
            " '\\n'\n",
            " 'But, my physical symptoms were the tip of the iceberg. \\n'\n",
            " '\\n'\n",
            " 'I was irritable and hopeless. I already have a higher amount of anxiety than '\n",
            " 'the average person, so this skyrocketed those feelings. Luckily, my heavenly '\n",
            " 'boyfriend was here by my side through it all. He got to see such an ugly '\n",
            " \"side of me and I'm super blessed, to say the least, to have someone like him \"\n",
            " 'in my life to bring me back to earth. \\n'\n",
            " '\\n'\n",
            " 'During this time, I was super depressed. I have a history of being '\n",
            " 'self-destructive due to childhood trauma, and that itself was a mental '\n",
            " 'addiction I had to overcome. I was so frustrated with myself for getting '\n",
            " 'this deep into an addiction in the first place. I relapsed into a bad '\n",
            " 'self-harming thought pattern that night. If my boyfriend was not around, I '\n",
            " \"don't know what would have happened. \\n\"\n",
            " '\\n'\n",
            " 'I was extra sad because I knew how disappointed my parents would be if they '\n",
            " 'found out about the state I was in and why I was in that state. My dad was '\n",
            " 'sent to the ER because of nicotine. (Smoking cigarettes since his teenage '\n",
            " 'years evidently led to a fatal stroke.) \\n'\n",
            " '\\n'\n",
            " \"And here I was, lying in a pool of my own sweat on my boyfriend's bathroom \"\n",
            " 'floor feeling like my organs were about to hit a self-destruct button. '\n",
            " 'Sharp, twisting pains in my rib cage sent electric shocks down my whole '\n",
            " 'body. My internal chest muscles were cramping. I was throwing up a bright '\n",
            " 'orange bile and white foam. An unreachable, searing pain that torqued my '\n",
            " 'form. It felt inescapable. \\n'\n",
            " '\\n'\n",
            " \"I didn't have a fever though, and I didn't have a runny nose or cough. \"\n",
            " \"Everyone else who lives with me were also really healthy so I didn't think \"\n",
            " 'it was a typical stomach virus (which is highly contagious.) I theorized '\n",
            " 'that it was severe nic withdrawals plus some kind of bacterial overgrowth or '\n",
            " 'bacterial imbalance in my gut caused by nic salts. Not only are these '\n",
            " 'nicotine salts getting into our respiratory system, but it also gets into '\n",
            " 'our digestive system. Summing up some research I did during my suffering: '\n",
            " 'vaping opens up and/or weakens the valves between the two systems. \\n'\n",
            " 'My boyfriend though, had thought it was just severe nicotine withdrawals '\n",
            " 'only. \\n'\n",
            " '\\n'\n",
            " 'I would spend the next few days on Reddit and other forums where people '\n",
            " 'talked about their withdrawal symptoms, but I had never heard of symptoms to '\n",
            " 'this kind of severity. I knew something was wrong. \\n'\n",
            " 'This pain would proceed to come and go in waves of 1-30 minutes.\\n'\n",
            " '\\n'\n",
            " 'It was day 5 and we decided to get urgent care. The doctor prescribed me '\n",
            " 'anti-nausea pills since it prevented me from eating and keeping things down. '\n",
            " 'They told me it was probably just a stomach bug you get from eating '\n",
            " 'contaminated food. I had told them how I think it has to do with nic, but '\n",
            " \"they didn't consider that to be an option. \\n\"\n",
            " '\\n'\n",
            " \"Now, I'm glad to say that I'm now recovering, and I'm 9 days old into \"\n",
            " 'reclaiming my life ridden of this soul-sucking habit. \\n'\n",
            " '\\n'\n",
            " '\\n'\n",
            " 'WORD OF ADVICE: *MUST READ!!* \\n'\n",
            " '\\n'\n",
            " \"Quit vaping before it gives you a reason to quit it!!! It's f*cking hard, \"\n",
            " \"but you know what's hard???? Not being able to breathe... CHOOSE YOUR HARD. \"\n",
            " 'let me tell you now that once that sharp chest pain comes into your life or '\n",
            " \"you're lying with your head in the toilet puking your guts out for days on \"\n",
            " \"end not knowing why or you wake up in a hospital bed, you'd want to take \"\n",
            " 'back every single puff you had ever taken from any device.\\n'\n",
            " '\\n'\n",
            " \"I wouldn't wish a stomach virus plus nicotine withdrawals on anyone lol. The \"\n",
            " 'dark reality is that it catches up to you someday. Some may see it '\n",
            " 'externally and others will experience it internally. Some may not suffer '\n",
            " 'life threatening effects until later in life, while others may be sent to '\n",
            " \"the ER in their 20's. (I personally know a person who is in their 20's who \"\n",
            " 'has gone to the ER because of lack of oxygen from vaping puffs.)\\n'\n",
            " '\\n'\n",
            " 'Do it for yourself. For your future. \\n'\n",
            " 'I like to view it as:\\n'\n",
            " '\\n'\n",
            " '1 less puff/smoke=1 more breath of clean air on earth\\n'\n",
            " '\\n'\n",
            " \"Don't let it get to the point where you literally HAVE TO QUIT the hard way \"\n",
            " 'like me and my friend who went to the ER. \\n'\n",
            " '\\n'\n",
            " \"Good luck on everyone's journey!\\n\"\n",
            " '\\n'\n",
            " '-C &lt;3')\n",
            "____________________\n",
            "2\n",
            "('I woke up one day in late July and decided I wanted to quit. Vaping hadn’t '\n",
            " 'been making me feel the best and something sparked in me to just quit. \\n'\n",
            " '\\n'\n",
            " 'So I ran with it. I was only vaping 3mg nicotine. But I was a chain vaper. '\n",
            " 'I’d hit my vape 3-4 times like every 2-3 minutes. And that was an all day '\n",
            " 'thing. Even so, I didn’t think 3mg would cause me many withdrawal symptoms. '\n",
            " 'Thought maybe headaches and anxiety at worst. That’s where I was wrong.\\n'\n",
            " '\\n'\n",
            " 'The entire first day was just weird. It felt like a chronic state of dejavú. '\n",
            " 'I kept thinking about reaching for my vape that wasn’t there. Then I’d have '\n",
            " 'this little feeling of panic once I realized it really wasn’t there. I '\n",
            " 'started getting a headache in the afternoon. This, I could deal with. No big '\n",
            " 'deal. I was determined. I started walking my dog a lot more throughout the '\n",
            " 'day to pass time and keep busy. I cleaned my house top to bottom. Went out '\n",
            " 'and bought organizers for all my cabinets and pantry. Fun project to stay on '\n",
            " 'course.\\n'\n",
            " '\\n'\n",
            " 'Then, bedtime came. I was tired, but I was restless. I laid in bed from '\n",
            " 'midnight til 5am just kicking my sheets. Legs were restless and couldn’t '\n",
            " 'stop moving. I had so much anxiety inside. I started feeling really '\n",
            " 'nauseated and went in the bathroom to vomit. I still felt queasy afterwards. '\n",
            " 'I ended up taking a couple Benadryl to knock myself out. Finally passed out '\n",
            " 'at 6am.\\n'\n",
            " '\\n'\n",
            " 'I truly didn’t expect to feel THAT bad. As I’ve quit before and it wasn’t '\n",
            " 'very hard. But I also wasn’t vaping nearly as much as I was now. Anyway, I '\n",
            " 'figured that was probably the worst of it, so decided to stick it out. I was '\n",
            " 'determined. It wasn’t. I developed a debilitating migraine and felt super '\n",
            " 'nauseated with cold chills. I legit thought I was just getting sick or '\n",
            " 'something. But it wasn’t that. \\n'\n",
            " '\\n'\n",
            " 'I finally caved towards the evening. But I only took a few hits over the '\n",
            " 'course of the rest of the night. Nothing like I was doing before.\\n'\n",
            " '\\n'\n",
            " 'The next day, I went out and got 0mg nicotine in the same flavor of the 1/4 '\n",
            " 'bottle I had left. Diluted it by half and started vaping that. Every day '\n",
            " 'over the course of a week, id heighten the ratio of 0mg until I was finally '\n",
            " 'just vaping straight up 0 and my nicotine juice was gone. By doing this, I '\n",
            " 'completely bypassed all of the physical nicotine withdrawal symptoms. I '\n",
            " 'vaped the 0 for two more days until it was gone, but vaped at a lower '\n",
            " 'frequency each day.\\n'\n",
            " '\\n'\n",
            " 'And that’s it. It’s been 3 days 100% vape free. 5 or 6 days nicotine free. I '\n",
            " 'feel fine. I sleep fine. Not experiencing anxiety or any other physical '\n",
            " 'symptoms. The only thing I’m currently struggling with is the need for '\n",
            " 'something sweet. Hard candy and cough drops have been coming in clutch for '\n",
            " 'those moments.\\n'\n",
            " '\\n'\n",
            " 'So if cold turkey isn’t working for you- don’t worry. There are other ways. '\n",
            " 'But if you’re already 3 or more days in, just stay the path you’re on '\n",
            " 'because you’re already through the worst. Good luck everyone 💖')\n",
            "____________________\n",
            "3\n",
            "('I quit vaping last Saturday and noticed a few things I wish I knew… I likely '\n",
            " 'would have quit earlier &amp; figured I’d share!\\n'\n",
            " '\\n'\n",
            " '1. My blood pressure dropped drastically and I think I’ll be able to get off '\n",
            " 'my blood pressure meds. I always assumed it was an underlying condition but '\n",
            " 'clearly this was the main contributor (I’m healthy overall, only 33 and was '\n",
            " 'told I could have had a heart attack or stroke if I didn’t get on meds) \\n'\n",
            " '\\n'\n",
            " '2. Id get heart palpitations daily and light headed if I stood too fast, '\n",
            " 'that’s stopped (if you’re still vaping and haven’t checked your blood '\n",
            " 'pressure… please do)\\n'\n",
            " '\\n'\n",
            " '3. The cravings aren’t as bad as I expected, it’s the same frustration I '\n",
            " 'feel everytime I lose my pen (which was 10x a day lol) so it’s easier to '\n",
            " 'push through when I remind myself I’ll never feel like that again. \\n'\n",
            " '\\n'\n",
            " '4. You’ll notice immediately how much time you wasted, it was a huge eye '\n",
            " 'opener for me. Its been *so* nice to not be self conscious or miss out on '\n",
            " 'important moments. \\n'\n",
            " '\\n'\n",
            " '5. My skin is *cleaner*: even after washing my face, I used to notice '\n",
            " 'residue on the cotton balls when toning. That’s totally gone now so I’m '\n",
            " 'convinced I’ve been breaking out from vapor gunk clogging my pores. \\n'\n",
            " '\\n'\n",
            " 'There’s been so many benefits that I honestly can’t see myself going back '\n",
            " '(fingers crossed) Hope this helps someone stay motivated, hang in there!')\n",
            "____________________\n",
            "4\n",
            "('My partner and I decided to quit the vape last week, after many failed '\n",
            " 'attempts of quitting it is finally sticking this time. \\n'\n",
            " '\\n'\n",
            " '**(Side note: we both smoked 5% Nic Jull pods every day for 3 years...)**\\n'\n",
            " '\\n'\n",
            " '**WARNING!** The first 3 days are absolute fucking hell...I thought I was '\n",
            " 'going crazy and going to die from the anxiety I felt. \\n'\n",
            " '\\n'\n",
            " 'It helps to have support and tell people around you what is going on. A week '\n",
            " 'in and I am feeling really good now. It feels like it has been years since '\n",
            " 'the last time we took a hit of the vape. \\n'\n",
            " '\\n'\n",
            " \"I just wanted to come on here and tell you some of the symptoms I've been \"\n",
            " 'having since quitting, and what helps!\\n'\n",
            " '\\n'\n",
            " 'The first day or scratch that. \\n'\n",
            " '\\n'\n",
            " '**The first 3 days of quitting is all a mental game.** Your brain is '\n",
            " 'constantly telling you \"It\\'s okay just take a hit, take one hit it\\'s '\n",
            " 'fine.\" \"Oh, it\\'s time for lunch time for a hit.\" \\n'\n",
            " '\\n'\n",
            " 'The brain fog for me was heavy and is still there but not so bad. \\n'\n",
            " '\\n'\n",
            " 'THE GIGGLES. I am not kidding when I tell you I have been laughing and '\n",
            " 'giggling at everything for no reasons which sounds really fun, but then I '\n",
            " \"just felt sad and empty afterword's.\\n\"\n",
            " '\\n'\n",
            " 'The crying for no reason. I had a full-on mental break down the 2nd day upon '\n",
            " 'the realization that I have let this thing control me for so long. The 3rd '\n",
            " 'day was okay, but I was really low energy and very weepy kind of tearing up '\n",
            " 'again for no reason. \\n'\n",
            " '\\n'\n",
            " 'I have been fighting with my body and my brain this whole week, but it is '\n",
            " 'WORTH IT! Just keep going your brain and body will thank you.\\n'\n",
            " '\\n'\n",
            " 'OH! Not to mention, day 2 I was not aware that my taste was so fucked from '\n",
            " 'doing this for so long but FOOD TASTE SO FUCKING GOOD!\\n'\n",
            " '\\n'\n",
            " 'Alright so things that do help especially the first few days.\\n'\n",
            " '\\n'\n",
            " \"Confiding in people telling them what is up or what's going on and how you \"\n",
            " 'are feeling. I have been working this whole week, but I like my job and it '\n",
            " 'helped me a lot to distract my brain from the cravings.\\n'\n",
            " '\\n'\n",
            " 'Cooking, coming home from work and cooking taking my time having a glass of '\n",
            " 'wine. Playing video games at night until I get tired or watching YouTube. \\n'\n",
            " '\\n'\n",
            " ' Day 4 we started taking long walks late at night and that has helped SO '\n",
            " \"MUCH! I recommend walking or any type of lifting, but don't start the first \"\n",
            " 'day you quit might make you sick. \\n'\n",
            " '\\n'\n",
            " 'That is all I have for you, for now. Quitting has been the hardest thing '\n",
            " \"I've ever done but also the best things so heres to just being doneeee with \"\n",
            " 'it. \\n'\n",
            " '\\n'\n",
            " '(Sidenote: I do still feel pretty low energy at times and the brain fog is '\n",
            " 'still there but not as bad.)\\n'\n",
            " '\\n'\n",
            " 'JUST KEEP GOING!')\n",
            "____________________\n",
            "5\n",
            "('So, vaping causes massive heart rate and blood pressure spikes as well as '\n",
            " \"elevated resting heart rate, which isn't up for debate. One day when I was \"\n",
            " \"vaping heavily, the bottom half of my right eye went completely dark. It's \"\n",
            " \"called a Scotoma, and it's uncommon but doesn't require pre-existing \"\n",
            " 'issues.\\n'\n",
            " '\\n'\n",
            " 'Apparently a bunch of the capillaries in my eye burst, and while the '\n",
            " \"hemorrhage stopped, it's never going to fully heal and go away. Every \"\n",
            " 'morning when I turn the lights on, I can see it. My brain is getting better '\n",
            " \"at ignoring it, but it will always show up when I'm looking at something \"\n",
            " 'bright, or driving at night, or looking at something at an angle.\\n'\n",
            " '\\n'\n",
            " 'I used to like shooting guns, and i used to be good at it (I grew up around '\n",
            " \"firearms and spent 6 years in the army). But I'm right eye dominant, so now \"\n",
            " 'I cant even play house of the dead at a fucking dave and busters, let alone '\n",
            " 'shoot a rifle when my center vision is permanently grayed out.\\n'\n",
            " '\\n'\n",
            " 'Anyway, thats all to say you should quit before its too late. Not every '\n",
            " 'vaping risk is a slow creeping problem, sometimes everything is fine and '\n",
            " \"then it's suddenly fucked.\\n\"\n",
            " '\\n'\n",
            " 'EDIT:\\n'\n",
            " '\\n'\n",
            " 'A couple relevant research papers:\\n'\n",
            " '\\n'\n",
            " '- https://pubmed.ncbi.nlm.nih.gov/29688089/\\n'\n",
            " '- https://www.sciencedirect.com/science/article/abs/pii/S0002939434931536')\n",
            "____________________\n",
            "6\n",
            "(\"Hey all, I don't post very often, but I know they're aren't many posts on \"\n",
            " 'the symptoms or experiences directly related to the withdrawal effects of '\n",
            " 'vaping in particular. Some perspective: I first began to vape in High School '\n",
            " \"around November of 2017 and didn't quit until about a year later. Now this \"\n",
            " \"time I have been vaping since late December 2021. It hasn't been that long I \"\n",
            " 'know but I am definitely addicted. For context, I smoke one 800 puff '\n",
            " 'disposable flair every two days and have been doing this since I started 10 '\n",
            " \"months ago. Since then I've had dry eyes, poor sleep, poor endurance, and \"\n",
            " 'many other symptoms you expect. \\n'\n",
            " '\\n'\n",
            " 'I will edit as the days go by, but so far it has been about 12 hours since I '\n",
            " 'last hit my vape. The symptoms include the obvious nicotine cravings, a sore '\n",
            " 'throat and occasional light cough, better breathing, more relaxed. So far so '\n",
            " 'good, I look forward to see how my sleep is tonight! \\n'\n",
            " '\\n'\n",
            " 'Chao.\\n'\n",
            " '———————————\\n'\n",
            " '\\n'\n",
            " 'Update: nearly 36 hours in, and honestly not bad. Last night it was '\n",
            " 'difficult to get to sleep, and ended up waking up in the middle of the '\n",
            " 'night. As of today, I actually didn’t feel any cravings. I have a sore '\n",
            " 'throat, light cough, dry eyes and sinuses, and a little bit of brain fog. '\n",
            " 'Quite frankly I feel wayyyyyy less stressed out since I haven’t hit a vape. '\n",
            " 'Even with the symptoms, I feel so calm. To be continued !\\n'\n",
            " '--------------------------\\n'\n",
            " 'Howdy, about the 60 hour mark. Seriously not that bad. Sleeping is much '\n",
            " 'easier, I have had vivid dreams, and feel my breathing getting slightly '\n",
            " 'better.\\n'\n",
            " \"I have definitely lung damage, as I feel as if I can't fill my entire lungs \"\n",
            " 'with oxygen. A few other side effects are sore/swollen throat, dry cough, '\n",
            " \"dry sinuses and eyes, stuffy nose, and pretty bad brain fog. Can't say I \"\n",
            " 'feel any physical pain, the withdrawal side effects feel like a recovery '\n",
            " \"more than anything. One other weird note is that I can't sing in the car, my \"\n",
            " 'throat is too swollen and voice too raspy.\\n'\n",
            " '\\n'\n",
            " '-------------- Final update:\\n'\n",
            " 'Well guys, it has been over two weeks and since then have had no relapse. To '\n",
            " 'everyone thinking about quitting go for it. My sleep quality is great, my '\n",
            " 'lung capacity and blood pressure continues to improve, and ultimately my '\n",
            " 'mood is phenomenal. Surprisingly the withdrawal was not bad, since my last '\n",
            " \"update all symptoms have resided, and currently have no temptation. It's \"\n",
            " 'such a great feeling and I wish all the best to those of you who want to '\n",
            " 'quit, thanks for the support!')\n",
            "____________________\n",
            "7\n",
            "('I made a post on here 20 days ago hoping to quit and I hit my vape a few '\n",
            " 'days after that and one day I just stopped using it and haven’t hit it '\n",
            " 'since. I’m happy to say it was much easier to quit than I expected. I had '\n",
            " 'really bad brain fog for a few days to a week but it’s gotten a lot better. '\n",
            " 'I’m also surprised how much better I’ve been sleeping and how much more '\n",
            " 'energy I have. For about 4 years I vaped mostly every day with periods here '\n",
            " 'and there where I tried to quit. Every time I think about vaping now I think '\n",
            " 'of the high then crash I would experience right after and the gross feeling '\n",
            " 'I had pretty much all the time. I was always tired and spent a lot of time '\n",
            " 'thinking when I could hit my vape next. I’m so glad I don’t feel that way '\n",
            " 'anymore. Honestly the thought of quitting and anxiety I felt around it was '\n",
            " 'way worse than just actually quitting. It took me so long because I figured '\n",
            " 'it would be way too hard and I let those first withdrawal symptoms win every '\n",
            " 'time I tried to quit before. I know every one is different when it comes to '\n",
            " 'quitting and I’m not downplaying quitting at all. Like I said I’ve tried to '\n",
            " 'quit multiple times before. I still get cravings but I say to myself that it '\n",
            " 'will pass and it does. But I’m just posting this as maybe some encouragement '\n",
            " 'that it might not be AS hard as you might think and you’re strong enough to '\n",
            " 'handle it!')\n",
            "____________________\n",
            "====================\n",
            "1\n",
            "('I’m coughing stuff out of my lungs as we speak. It’s both extremely '\n",
            " 'uncomfortable and relieving. \\n'\n",
            " '\\n'\n",
            " 'I’m ashamed to admit that I was vaping so frequently that I’d sometimes hit '\n",
            " 'my vape basically as soon as I get up, and right before I’d sleep. It was '\n",
            " 'affecting my energy levels greatly. Going to sleep was hard and waking up '\n",
            " 'was even harder. I *never* felt refreshed and energetic in the morning as I '\n",
            " 'usually would. Instead, I’d feel absolutely exhausted until I hit my vape.\\n'\n",
            " '\\n'\n",
            " 'Does this sound familiar to any of you? \\n'\n",
            " '\\n'\n",
            " 'Today is my 12th day of no vaping. The urges have gone down dramatically. I '\n",
            " 'have fewer of them and they are easier to shut down. Someone on this sub '\n",
            " 'said “saying no is like a muscle”, and it really is. \\n'\n",
            " '\\n'\n",
            " 'I’d say the 4th day was the hardest for me. I had disgusting suicidal '\n",
            " 'thoughts. I was having such strong urges that I was trying to trick myself '\n",
            " 'into thinking that it would be okay to buy just one more bottle of juice '\n",
            " 'just to get me through quitting.\\n'\n",
            " '\\n'\n",
            " 'I am SO glad that I resisted those urges and did not let it take control of '\n",
            " 'me. You will be too.\\n'\n",
            " '\\n'\n",
            " 'The main changes I am noticing is that my lungs are clearing out. I smoke '\n",
            " 'cannabis almost daily, and my lungs feel about 40% better. In all honesty, '\n",
            " 'my lungs would probably clear out faster if I quit cannabis, too. But it has '\n",
            " 'helped me quit nicotine, and I just don’t see anything wrong with it as long '\n",
            " 'as I am responsible.\\n'\n",
            " '\\n'\n",
            " 'Another change is that I feel like I am more clearheaded, and I’m not as '\n",
            " 'tired. This is probably because I’m not thinking about hitting my vape every '\n",
            " 'waking second, as I was. \\n'\n",
            " '\\n'\n",
            " 'It’s still hard and I’m pretty sure I’m still overly anxious and irritable, '\n",
            " 'but it isn’t nearly as bad as it was on the 4th day. I’m looking forward to '\n",
            " 'doing more updates.\\n'\n",
            " '\\n'\n",
            " 'Anyway, how have you guys been doing?')\n",
            "____________________\n",
            "2\n",
            "('I smoked cigarettes from 17-21 or so. Vaped from 21-25. Quit for 2 years. '\n",
            " 'Went to Vegas and starting vaping my friends vape the whole trip.\\n'\n",
            " '\\n'\n",
            " 'Stopped after the trip but kept dreaming about vaping. Bought a vape and '\n",
            " 'have been vaping for 6 months.\\n'\n",
            " '\\n'\n",
            " 'When it feels good, vaping feels really good.\\n'\n",
            " '\\n'\n",
            " 'But 90% of the time, vaping just makes me feel shitty.\\n'\n",
            " '\\n'\n",
            " 'My hands and feet start to get cold. My muscles get real tight.. My feet and '\n",
            " 'hands get sweaty. My eyes get super dry no matter how much water I drink. I '\n",
            " 'get more anxiety. I don’t know when to stop, I just keep puffing away until '\n",
            " 'I feel sick. Then, I pick it up again at the moment I feel better. I binge '\n",
            " 'vape.\\n'\n",
            " '\\n'\n",
            " 'I’m going to quit again but the habit is just there. It’s easy to stop '\n",
            " 'initially, I just throw all my stuff away and make sure I can’t grab it from '\n",
            " 'the trash. But then I get a craving again, “this time it’ll feel good”.\\n'\n",
            " '\\n'\n",
            " 'And when I succumb, it doesn’t feel good. It’s like my mind is addicting to '\n",
            " 'feeling like shit.\\n'\n",
            " '\\n'\n",
            " 'When I stop, my extremities actually get warm again. I can breath clearly. '\n",
            " 'The only thing is I don’t have as much motivation doing stuff, but that’s '\n",
            " 'okay. I can actually relax.\\n'\n",
            " '\\n'\n",
            " 'It’s just so odd that I understand it’s not good for me, and yet my brain '\n",
            " 'always desires it as if it’ll feel good. Sometimes it’s because my brain '\n",
            " 'desires that “feel good” feeling and I don’t get that from vaping, but my '\n",
            " 'mind thinks it does.')\n",
            "____________________\n",
            "3\n",
            "('I’ve been vaping for 5 years, been “quitting” for the past 3. Never been '\n",
            " 'able to go more than 24 hours except once on a family vacation I lasted 3 '\n",
            " 'days. I vape every 10 seconds like equal parts oxygen equal parts vape.  '\n",
            " 'I’ve been really wanting to quit lately because I started getting heavy into '\n",
            " 'working out again and I can feel it holding me back. I’ve been building up '\n",
            " 'to quitting hitting it less and less. I was driving the other day and my '\n",
            " 'disposable started leaking vape juice and firing on its own. Honestly it '\n",
            " 'just grossed me out like what am I doing to my body. Not fully sure what is '\n",
            " 'different this time. Once it died I booked a hotel for the next night with '\n",
            " 'my boyfriend ( he is against me vaping) because I’ve had better luck trying '\n",
            " 'to quit when i’m away from home and my routine. It’s day 2 now and ik it’s '\n",
            " 'not long but ik I am going to be successful this time. My cravings are not '\n",
            " 'bad, still there but not bad.  I’ve been eating like a mad man and sleeping '\n",
            " 'lots, I have shortness of breath, and a little nausea. Overall not as bad as '\n",
            " 'I thought it truly is more of a mental than physical battle for me. Honestly '\n",
            " 'never thought it was possible and i’m only on day 2. Hoping for words of '\n",
            " 'encouragement as craving still come and go.')\n",
            "____________________\n",
            "4\n",
            "('Earlier this month I stopped vaping cold turkey and lasted about 9 days '\n",
            " \"before I cracked and hit my partner's vape. Fast forward to now I bought my \"\n",
            " 'own vape and am in the full swing of nicotine addiction again. Except this '\n",
            " 'time, I feel god awful. My stomach is nonfunctional with this nausea, I '\n",
            " \"can't eat much anymore not like I was able to during the 9 days (I am pretty \"\n",
            " 'thin and need to eat as much as I can) and I am generally exhausted. The '\n",
            " 'nicotine highs only last about 30 seconds it seems, but the sick feeling in '\n",
            " \"my stomach persists all day since I've started vaping again.\\n\"\n",
            " 'Hopefully this helps someone who is thinking about giving in to the '\n",
            " \"cravings. Don't make the same mistake I did. I think I am going to quit \"\n",
            " 'again starting now.')\n",
            "____________________\n",
            "5\n",
            "('I will admit i have smoked weed a couple times but this did feel like the '\n",
            " 'longest week of my life lol. One thing I noticed is waking up has felt so '\n",
            " 'much better less groggy. Coughing for some reason out of nowhere, let me '\n",
            " \"know if that goes away. Restless leg syndrome, I pray this isn't permanent \"\n",
            " 'but due to weaker blood flow because of vaping I have experienced those '\n",
            " 'sharp tingles at the base and tips of my feet and toes, it was something '\n",
            " \"that was on and off when I was vaping for two years but it's been constant \"\n",
            " \"every night. I'll continue to be more active and update you all on this. \"\n",
            " 'Agitation has slowed down from day 2 and 3 significantly. The urges still '\n",
            " 'exist however these feel more powerful than before. I do still crave a nice '\n",
            " \"light headed feeling from vaping especially since I've been surrounded by \"\n",
            " 'friends who do it twice this week. That being said I would anticipate a '\n",
            " 'month in I would have control to the point where I could have a hit and get '\n",
            " 'the feeling but not have the drive or urge to go out and buy my own vape. My '\n",
            " \"decision no one else's. I definitely feel like I inhale and exhale more \"\n",
            " \"fully, less weight on my chest, speaking of weight yes I've gained some this \"\n",
            " 'past week and it is not fun lol but a small price to pay for a healthier '\n",
            " 'future. To quickly explain my self control, my gf originally made a deal for '\n",
            " \"every new vape I bought I'd have to buy her a squishmallow, this last 3-4 \"\n",
            " \"times until I got tired of paying $60+ on a furry blob. She's been with me \"\n",
            " \"this entire week until today where she's out of town. Even home alone, and \"\n",
            " 'half a block away from the convenience store I used to regularly buy my '\n",
            " \"posh's from, I don't have any drive or urge to walk my ass down the street \"\n",
            " \"to buy one. I'll update as I go on or if I potentially crack but I've quit \"\n",
            " 'cigs and dip before. This will fall before me as well')\n",
            "____________________\n",
            "====================\n",
            "23 0 0 5 10\n",
            "24 1 3 6 4\n",
            "25 0 2 4 15\n",
            "0.99 0.7319099999999998 0.571504 0.863325\n"
          ]
        },
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "(-0.9678, -0.9787, -0.8961, -0.20051724137931032)"
            ]
          },
          "metadata": {},
          "execution_count": 25
        }
      ],
      "source": [
        "import pandas as pd\n",
        "import json\n",
        "from pprint import pprint\n",
        "\n",
        "top = texts[4]\n",
        "mid = texts[2]\n",
        "low = texts[1]\n",
        "lowest = texts[0]\n",
        "with open('/content/top_10%_topics.json', 'r') as openfile:\n",
        "    f1 = json.load(openfile)\n",
        "with open('/content/8_above_topics.json', 'r') as openfile:\n",
        "    f2 = json.load(openfile)\n",
        "with open('/content/1-7_topics.json', 'r') as openfile:\n",
        "    f3 = json.load(openfile)\n",
        "with open('/content/zero_topics.json', 'r') as openfile:\n",
        "    f0 = json.load(openfile)\n",
        "p0, p1, p2, p3 = [], [], [], []\n",
        "def get_posts(f, posts, topic):\n",
        "  p = []\n",
        "  for ind, i in enumerate(f.values()):\n",
        "    if i == topic:\n",
        "      p.append(posts[ind])\n",
        "  return p\n",
        "\n",
        "l, a, b, c = [], [], [], []\n",
        "for i in range(0, 26):\n",
        "  topic = i\n",
        "  p0 = get_posts(f0, lowest, topic)\n",
        "  p1 = get_posts(f1, top, topic)\n",
        "  p2 = get_posts(f2, mid, topic)\n",
        "  p3 = get_posts(f3, low, topic)\n",
        "\n",
        "  print(i, len(p0), len(p1), len(p2), len(p3))\n",
        "  def p(posts):\n",
        "    c=1\n",
        "    for j in posts:\n",
        "      print(c)\n",
        "      pprint(j)\n",
        "      print(\"_\"*20)\n",
        "      c+=1\n",
        "    print(\"=\"*20)\n",
        "  if i==22:\n",
        "    # p(p0)#zeroS\n",
        "    p(p1)#10%\n",
        "    p(p2)#8above\n",
        "    # print(sentiment(pd.DataFrame({\"text\": p3})))\n",
        "    p(p3)#1-7\n",
        "  l.append(sentiment(pd.DataFrame({\"text\":p0})))\n",
        "  a.append(sentiment(pd.DataFrame({\"text\": p1})))\n",
        "  b.append(sentiment(pd.DataFrame({\"text\": p2})))\n",
        "  c.append(sentiment(pd.DataFrame({\"text\": p3})))\n",
        "a, b, c\n",
        "print(max(l), max(a), max(b), max(c))\n",
        "min(l), min(a), min(b), min(c)"
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "print(a.index(max(a)), b.index(max(b)), c.index(max(c)))\n",
        "a.index(min(a)), b.index(min(b)), c.index(min(c))"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "qTQI7A-M5VEj",
        "outputId": "be74f9d8-8be6-402b-e87e-924a4fe7d043"
      },
      "execution_count": null,
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "6 7 24\n"
          ]
        },
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "(19, 19, 9)"
            ]
          },
          "metadata": {},
          "execution_count": 38
        }
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "def av_sent(l):\n",
        "  c=0\n",
        "  s=0\n",
        "  for i in l:\n",
        "    if i != 0:\n",
        "      s+=i\n",
        "      c+=1\n",
        "  return s/c\n",
        "av_sent(a), av_sent(b), av_sent(c)"
      ],
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "id": "yFJ9bBQ-70rL",
        "outputId": "350fdc99-5021-48be-9788-fb4c2d7e8456"
      },
      "execution_count": null,
      "outputs": [
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "(0.107223005245622, 0.2404156404627296, 0.21110093819005155)"
            ]
          },
          "metadata": {},
          "execution_count": 52
        }
      ]
    }
  ],
  "metadata": {
    "colab": {
      "provenance": [],
      "include_colab_link": true
    },
    "kernelspec": {
      "display_name": "Python 3",
      "name": "python3"
    },
    "language_info": {
      "name": "python"
    },
    "widgets": {
      "application/vnd.jupyter.widget-state+json": {
        "a447657570a74fc481d9863eca825330": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HBoxModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HBoxModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HBoxView",
            "box_style": "",
            "children": [
              "IPY_MODEL_21d7ad617d404ea7810d9bc9426fe992",
              "IPY_MODEL_406db65082e24ba2bb8ead9d9f82b927",
              "IPY_MODEL_afb985d8a33d496cb3ad662c7d976261"
            ],
            "layout": "IPY_MODEL_bf8c6069d2cc44c18c8749465c54c8a2"
          }
        },
        "21d7ad617d404ea7810d9bc9426fe992": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HTMLModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HTMLModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HTMLView",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_74223ba28d044cc194e28d2e8bfd1400",
            "placeholder": "​",
            "style": "IPY_MODEL_0dc404efddc64c09b71e784bbf327e39",
            "value": "Batches: 100%"
          }
        },
        "406db65082e24ba2bb8ead9d9f82b927": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "FloatProgressModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "FloatProgressModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "ProgressView",
            "bar_style": "success",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_407088288d5849169757b44c5d60809a",
            "max": 105,
            "min": 0,
            "orientation": "horizontal",
            "style": "IPY_MODEL_1b77816e33644cfdb8027284b399a349",
            "value": 105
          }
        },
        "afb985d8a33d496cb3ad662c7d976261": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HTMLModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HTMLModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HTMLView",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_98b4df01e1844b62bd370ec3d83677a8",
            "placeholder": "​",
            "style": "IPY_MODEL_92f4ab396728473db8283ccd26a634f1",
            "value": " 105/105 [05:36&lt;00:00,  2.83it/s]"
          }
        },
        "bf8c6069d2cc44c18c8749465c54c8a2": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "74223ba28d044cc194e28d2e8bfd1400": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "0dc404efddc64c09b71e784bbf327e39": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "407088288d5849169757b44c5d60809a": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "1b77816e33644cfdb8027284b399a349": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "ProgressStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "ProgressStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "bar_color": null,
            "description_width": ""
          }
        },
        "98b4df01e1844b62bd370ec3d83677a8": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "92f4ab396728473db8283ccd26a634f1": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "5fd67bf488a842aaac0af5eff9bb67a4": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HBoxModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HBoxModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HBoxView",
            "box_style": "",
            "children": [
              "IPY_MODEL_26444b37239b492ab3f3b55ad0d55ff8",
              "IPY_MODEL_f3015d9203b04c5bbd2e52239e49ad1c",
              "IPY_MODEL_b1d61a02e7a94e7386a770d26a10d3f5"
            ],
            "layout": "IPY_MODEL_6927796279fd4b41b3c2234acd859de8"
          }
        },
        "26444b37239b492ab3f3b55ad0d55ff8": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HTMLModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HTMLModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HTMLView",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_9196b2204b304b50a5ab3275b02d7627",
            "placeholder": "​",
            "style": "IPY_MODEL_7dfd25e2886243c99612c1c553a4fb73",
            "value": "Batches: 100%"
          }
        },
        "f3015d9203b04c5bbd2e52239e49ad1c": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "FloatProgressModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "FloatProgressModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "ProgressView",
            "bar_style": "success",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_1a61be6e74c840b2ae28335b979824e0",
            "max": 1,
            "min": 0,
            "orientation": "horizontal",
            "style": "IPY_MODEL_83894dc7cc2f4e5bbccc71e316669e43",
            "value": 1
          }
        },
        "b1d61a02e7a94e7386a770d26a10d3f5": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HTMLModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HTMLModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HTMLView",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_f92cb5ab8ce945d0b34c1f8630c09e49",
            "placeholder": "​",
            "style": "IPY_MODEL_cab0cd61e55843d692b478e3f7c98002",
            "value": " 1/1 [00:00&lt;00:00, 19.77it/s]"
          }
        },
        "6927796279fd4b41b3c2234acd859de8": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "9196b2204b304b50a5ab3275b02d7627": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "7dfd25e2886243c99612c1c553a4fb73": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "1a61be6e74c840b2ae28335b979824e0": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "83894dc7cc2f4e5bbccc71e316669e43": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "ProgressStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "ProgressStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "bar_color": null,
            "description_width": ""
          }
        },
        "f92cb5ab8ce945d0b34c1f8630c09e49": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "cab0cd61e55843d692b478e3f7c98002": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "1ccf5a8d6e4542279e5264893bd044a0": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HBoxModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HBoxModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HBoxView",
            "box_style": "",
            "children": [
              "IPY_MODEL_9fa2a36b92074692ae80a15c38824628",
              "IPY_MODEL_0eb77ae8dae0461eac9e235f85318e50",
              "IPY_MODEL_6e75cbf612b04a82a16ce05fbf364462"
            ],
            "layout": "IPY_MODEL_8f77adc49b9d4f40b688a977fb5065c4"
          }
        },
        "9fa2a36b92074692ae80a15c38824628": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HTMLModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HTMLModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HTMLView",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_9601f29bd709498bb94675014908b5de",
            "placeholder": "​",
            "style": "IPY_MODEL_d1f305b108ba4a9a8abfff40ad041b29",
            "value": "Batches: 100%"
          }
        },
        "0eb77ae8dae0461eac9e235f85318e50": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "FloatProgressModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "FloatProgressModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "ProgressView",
            "bar_style": "success",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_c1cc382ad70a4ce19a3989e46a2c3817",
            "max": 11,
            "min": 0,
            "orientation": "horizontal",
            "style": "IPY_MODEL_cc27de7de47146d39d401a9847c5b398",
            "value": 11
          }
        },
        "6e75cbf612b04a82a16ce05fbf364462": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HTMLModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HTMLModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HTMLView",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_68b625d44fb047c2bbbf33e07fc974e7",
            "placeholder": "​",
            "style": "IPY_MODEL_93e1d0a6a79b4711916a89ab6594f150",
            "value": " 11/11 [00:38&lt;00:00,  1.19s/it]"
          }
        },
        "8f77adc49b9d4f40b688a977fb5065c4": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "9601f29bd709498bb94675014908b5de": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "d1f305b108ba4a9a8abfff40ad041b29": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "c1cc382ad70a4ce19a3989e46a2c3817": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "cc27de7de47146d39d401a9847c5b398": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "ProgressStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "ProgressStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "bar_color": null,
            "description_width": ""
          }
        },
        "68b625d44fb047c2bbbf33e07fc974e7": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "93e1d0a6a79b4711916a89ab6594f150": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "fb07e1e4227b40cca6f0204e4e7d6b9b": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HBoxModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HBoxModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HBoxView",
            "box_style": "",
            "children": [
              "IPY_MODEL_510230d631c34af18fa54e98fe76ef31",
              "IPY_MODEL_ffa9c408e34d4da39fec0959b5d874e4",
              "IPY_MODEL_7eaec808a6ef4aeb898dd25e10c7a23f"
            ],
            "layout": "IPY_MODEL_10cd52b9610b4d3f9314937b06d517bf"
          }
        },
        "510230d631c34af18fa54e98fe76ef31": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HTMLModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HTMLModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HTMLView",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_d567a2e975514615a39d336564347ef5",
            "placeholder": "​",
            "style": "IPY_MODEL_5ebdb9f741964e568204b4343c5d3398",
            "value": "Batches: 100%"
          }
        },
        "ffa9c408e34d4da39fec0959b5d874e4": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "FloatProgressModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "FloatProgressModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "ProgressView",
            "bar_style": "success",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_849dd45a40ca477fb23db61dfeded699",
            "max": 48,
            "min": 0,
            "orientation": "horizontal",
            "style": "IPY_MODEL_b05848c892604febb45670613dd8125a",
            "value": 48
          }
        },
        "7eaec808a6ef4aeb898dd25e10c7a23f": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HTMLModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HTMLModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HTMLView",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_cf68b52c149449709a9a84a20a750484",
            "placeholder": "​",
            "style": "IPY_MODEL_7ab129c8b5104b99a927fc62dc8539a6",
            "value": " 48/48 [01:50&lt;00:00,  2.95it/s]"
          }
        },
        "10cd52b9610b4d3f9314937b06d517bf": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "d567a2e975514615a39d336564347ef5": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "5ebdb9f741964e568204b4343c5d3398": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "849dd45a40ca477fb23db61dfeded699": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "b05848c892604febb45670613dd8125a": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "ProgressStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "ProgressStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "bar_color": null,
            "description_width": ""
          }
        },
        "cf68b52c149449709a9a84a20a750484": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "7ab129c8b5104b99a927fc62dc8539a6": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "4e6a22b7616147d88a89ce21c6cd8319": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HBoxModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HBoxModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HBoxView",
            "box_style": "",
            "children": [
              "IPY_MODEL_f64fe9606bdd464c82da200151ffc7b2",
              "IPY_MODEL_66b051b84fbd4a86ab0862fa07f9f478",
              "IPY_MODEL_8d537b6b3bf44ab0b6f7e294ee729898"
            ],
            "layout": "IPY_MODEL_9ba13deeb7054ae19187acf97a540e4b"
          }
        },
        "f64fe9606bdd464c82da200151ffc7b2": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HTMLModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HTMLModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HTMLView",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_6bd82b7b0d024cab91e773de96bb5804",
            "placeholder": "​",
            "style": "IPY_MODEL_85845128545444f4a52c0fb68209c8ef",
            "value": "Batches: 100%"
          }
        },
        "66b051b84fbd4a86ab0862fa07f9f478": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "FloatProgressModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "FloatProgressModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "ProgressView",
            "bar_style": "success",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_2b47c7e9c4284083996807b4873cd8cd",
            "max": 56,
            "min": 0,
            "orientation": "horizontal",
            "style": "IPY_MODEL_2821d93b043e4826a930e8fa07968107",
            "value": 56
          }
        },
        "8d537b6b3bf44ab0b6f7e294ee729898": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "HTMLModel",
          "model_module_version": "1.5.0",
          "state": {
            "_dom_classes": [],
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "HTMLModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/controls",
            "_view_module_version": "1.5.0",
            "_view_name": "HTMLView",
            "description": "",
            "description_tooltip": null,
            "layout": "IPY_MODEL_0a7a3efb15454456866242f60cb4eaaa",
            "placeholder": "​",
            "style": "IPY_MODEL_ec48607f5b5443d4bddce9b88730e8d9",
            "value": " 56/56 [01:33&lt;00:00,  4.10it/s]"
          }
        },
        "9ba13deeb7054ae19187acf97a540e4b": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "6bd82b7b0d024cab91e773de96bb5804": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "85845128545444f4a52c0fb68209c8ef": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        },
        "2b47c7e9c4284083996807b4873cd8cd": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "2821d93b043e4826a930e8fa07968107": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "ProgressStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "ProgressStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "bar_color": null,
            "description_width": ""
          }
        },
        "0a7a3efb15454456866242f60cb4eaaa": {
          "model_module": "@jupyter-widgets/base",
          "model_name": "LayoutModel",
          "model_module_version": "1.2.0",
          "state": {
            "_model_module": "@jupyter-widgets/base",
            "_model_module_version": "1.2.0",
            "_model_name": "LayoutModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "LayoutView",
            "align_content": null,
            "align_items": null,
            "align_self": null,
            "border": null,
            "bottom": null,
            "display": null,
            "flex": null,
            "flex_flow": null,
            "grid_area": null,
            "grid_auto_columns": null,
            "grid_auto_flow": null,
            "grid_auto_rows": null,
            "grid_column": null,
            "grid_gap": null,
            "grid_row": null,
            "grid_template_areas": null,
            "grid_template_columns": null,
            "grid_template_rows": null,
            "height": null,
            "justify_content": null,
            "justify_items": null,
            "left": null,
            "margin": null,
            "max_height": null,
            "max_width": null,
            "min_height": null,
            "min_width": null,
            "object_fit": null,
            "object_position": null,
            "order": null,
            "overflow": null,
            "overflow_x": null,
            "overflow_y": null,
            "padding": null,
            "right": null,
            "top": null,
            "visibility": null,
            "width": null
          }
        },
        "ec48607f5b5443d4bddce9b88730e8d9": {
          "model_module": "@jupyter-widgets/controls",
          "model_name": "DescriptionStyleModel",
          "model_module_version": "1.5.0",
          "state": {
            "_model_module": "@jupyter-widgets/controls",
            "_model_module_version": "1.5.0",
            "_model_name": "DescriptionStyleModel",
            "_view_count": null,
            "_view_module": "@jupyter-widgets/base",
            "_view_module_version": "1.2.0",
            "_view_name": "StyleView",
            "description_width": ""
          }
        }
      }
    }
  },
  "nbformat": 4,
  "nbformat_minor": 0
}